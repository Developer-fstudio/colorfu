{"version":3,"sources":["lib/fonts.js","components/Items/index.js","components/Sidebar/index.js","components/Canvas/index.js","components/Footer/index.js","hooks/useWindowSize.js","hooks/useBoolean.js","hooks/useCanvas.js","hooks/useCounter.js","data/index.js","data/home.js","data/poeam.js","data/lordRing.js","data/view.js","data/words.js","App.js","index.js","lib/awesome-poster.js"],"names":["yxmDetector","f","h","toLowerCase","a","i","c","document","createElement","b","getContext","width","height","textAlign","fillStyle","textBaseline","g","j","clearRect","font","d","fillText","k","getImageData","data","slice","call","filter","l","join","yxmDataFont","windows","ch","en","fontFamilyList","forEach","push","enlist","map","item","fonts","index","indexOf","Items","props","value","dispatch","contents","key","type","onChange","e","target","name","onClick","placeholder","onKeyDown","windowSize","editMode","canvasState","loading","panelStyle","position","background","panel","style","title","textColor","contentTextColor","file","getElementById","files","reader","FileReader","onload","imageURL","result","readAsDataURL","accept","id","fontFamily","contentFontFamily","button","left","top","shape","icon","ghost","setTrue","poster","window","innerWidth","innerHeight","on","console","log","setFalse","fontSize","contentFontSize","layout","useEffect","canvas","draw","size","tip","handleNext","handlePre","right","bottom","filename","canvasToPng","handleDowloadImage","useWindowSize","useState","setWidth","setHeight","addEventListener","removeEventListener","initialValue","setValue","initialState","useReducer","state","action","content","splice","initalValue","count","awesome","App","useBoolean","useCounter","counterState","counterDispatch","initialCanvas","useCanvas","canvasDispatch","Sidebar","saveToPng","Canvas","Footer","length","nextCanvas","preCanvas","ReactDOM","render","this","modules","installedModules","__webpack_require__","moduleId","exports","module","m","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","eval"],"mappings":"6KAAIA,EAAY,SAASC,GAAG,GAAa,iBAAHA,EAAa,OAAO,EAAM,IAAIC,EAAE,QAAQ,GAAGD,EAAEE,eAAeD,EAAEC,cAAe,OAAO,EAAK,IAAwBC,EAAE,IAAIC,EAAE,IAAQC,EAAEC,SAASC,cAAc,UAAcC,EAAEH,EAAEI,WAAW,MAAMJ,EAAEK,MAAMP,EAAEE,EAAEM,OAAOP,EAAEI,EAAEI,UAAU,SAASJ,EAAEK,UAAU,QAAQL,EAAEM,aAAa,SAAS,IAAIC,EAAE,SAASC,GAAGR,EAAES,UAAU,EAAE,EAAEd,EAAEC,GAAGI,EAAEU,KAAKC,SAAQH,EAAE,KAAKf,EAAEO,EAAEY,SAArP,IAAgQjB,GAAIC,IAAK,IAAIiB,EAAEb,EAAEc,aAAa,EAAE,EAAEnB,EAAEC,GAAGmB,KAAK,MAAM,GAAGC,MAAMC,KAAKJ,GAAGK,QAAO,SAASC,GAAG,OAAU,GAAHA,MAAQ,OAAOZ,EAAEd,GAAG2B,KAAK,MAAMb,EAAEf,GAAG4B,KAAK,KAEvgBC,EAAc,CAChBC,QAAS,CAAC,CACRC,GAAI,eACJC,GAAI,UACH,CACDD,GAAI,eACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,mBACH,CACDD,GAAI,iCACJC,GAAI,sBACH,CACDD,GAAI,eACJC,GAAI,SACH,CACDD,GAAI,qBACJC,GAAI,WACH,CACDD,GAAI,eACJC,GAAI,aAEN,OAAQ,CAAC,CACPD,GAAI,eACJC,GAAI,eACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,cACH,CACDD,GAAI,2BACJC,GAAI,eACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,YACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,aACH,CACDD,GAAI,iCACJC,GAAI,oBACH,CACDD,GAAI,4BACJC,GAAI,iBACH,CACDD,GAAI,4BACJC,GAAI,eACH,CACDD,GAAI,4BACJC,GAAI,gBACH,CACDD,GAAI,sBACJC,GAAI,aACH,CACDD,GAAI,4BACJC,GAAI,aACH,CACDD,GAAI,sBACJC,GAAI,aACH,CACDD,GAAI,sBACJC,GAAI,cACH,CACDD,GAAI,sBACJC,GAAI,WACH,CACDD,GAAI,sBACJC,GAAI,cAEN,OAAU,CAAC,CACTD,GAAI,eACJC,GAAI,WACH,CACDD,GAAI,eACJC,GAAI,QACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,cACH,CACDD,GAAI,2BACJC,GAAI,eACH,CACDD,GAAI,2BACJC,GAAI,YACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,YACH,CACDD,GAAI,2BACJC,GAAI,UACH,CACDD,GAAI,2BACJC,GAAI,aACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,2BACJC,GAAI,YAEN,KAAQ,CAAC,CACPD,GAAI,2BACJC,GAAI,sBACH,CACDD,GAAI,2BACJC,GAAI,uBACH,CACDD,GAAI,uCACJC,GAAI,wBAEN,MAAS,CAAC,CACRD,GAAI,+BACJC,GAAI,eACH,CACDD,GAAI,+BACJC,GAAI,eACH,CACDD,GAAI,+BACJC,GAAI,eACH,CACDD,GAAI,iCACJC,GAAI,aACH,CACDD,GAAI,2BACJC,GAAI,WACH,CACDD,GAAI,iCACJC,GAAI,aACH,CACDD,GAAI,6BACJC,GAAI,WACH,CACDD,GAAI,uCACJC,GAAI,cACH,CACDD,GAAI,iCACJC,GAAI,gBACH,CACDD,GAAI,iCACJC,GAAI,gBACH,CACDD,GAAI,iCACJC,GAAI,iBACH,CACDD,GAAI,kCACJC,GAAI,cACH,CACDD,GAAI,iCACJC,GAAI,YACH,CACDD,GAAI,wCACJC,GAAI,uBAEN,UAAa,CAAC,CACZ,GAAM,6CACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,6CACN,GAAM,qBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,uCACN,GAAM,mBACL,CACD,GAAM,uCACN,GAAM,cACL,CACD,GAAM,uCACN,GAAM,eACL,CACD,GAAM,uCACN,GAAM,cACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,UACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,6CACN,GAAM,qBACL,CACD,GAAM,6CACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,6CACN,GAAM,uBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,6CACN,GAAM,wBACL,CACD,GAAM,uCACN,GAAM,mBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,mBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,6CACN,GAAM,oBACL,CACD,GAAM,6CACN,GAAM,sBACL,CACD,GAAM,6CACN,GAAM,oBACL,CACD,GAAM,uCACN,GAAM,mBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,6CACN,GAAM,mBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,gBACL,CACD,GAAM,6CACN,GAAM,qBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,oBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,iBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,6CACN,GAAM,oBACL,CACD,GAAM,uCACN,GAAM,kBACL,CACD,GAAM,6CACN,GAAM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","file":"static/js/main.14b94ab7.chunk.js","sourcesContent":["var yxmDetector=function(f){if(typeof f!=\"string\"){return false}var h=\"Arial\";if(f.toLowerCase()==h.toLowerCase()){return true}var e=\"a\";var d=100;var a=100,i=100;var c=document.createElement(\"canvas\");var b=c.getContext(\"2d\");c.width=a;c.height=i;b.textAlign=\"center\";b.fillStyle=\"black\";b.textBaseline=\"middle\";var g=function(j){b.clearRect(0,0,a,i);b.font=d+\"px \"+j+\", \"+h;b.fillText(e,a/2,i/2);var k=b.getImageData(0,0,a,i).data;return[].slice.call(k).filter(function(l){return l!=0})};return g(h).join(\"\")!==g(f).join(\"\")};\n\nvar yxmDataFont = {\n  windows: [{\n    ch: '宋体',\n    en: 'SimSun'\n  }, {\n    ch: '黑体',\n    en: 'SimHei'\n  }, {\n    ch: '微软雅黑',\n    en: 'Microsoft Yahei'\n  }, {\n    ch: '微软正黑体',\n    en: 'Microsoft JhengHei'\n  }, {\n    ch: '楷体',\n    en: 'KaiTi'\n  }, {\n    ch: '新宋体',\n    en: 'NSimSun'\n  }, {\n    ch: '仿宋',\n    en: 'FangSong'\n  }],\n  'OS X': [{\n    ch: '苹方',\n    en: 'PingFang SC'\n  }, {\n    ch: '华文黑体',\n    en: 'STHeiti'\n  }, {\n    ch: '华文楷体',\n    en: 'STKaiti'\n  }, {\n    ch: '华文宋体',\n    en: 'STSong'\n  }, {\n    ch: '华文仿宋',\n    en: 'STFangsong'\n  }, {\n    ch: '华文中宋',\n    en: 'STZhongsong'\n  }, {\n    ch: '华文琥珀',\n    en: 'STHupo'\n  }, {\n    ch: '华文新魏',\n    en: 'STXinwei'\n  }, {\n    ch: '华文隶书',\n    en: 'STLiti'\n  }, {\n    ch: '华文行楷',\n    en: 'STXingkai'\n  }, {\n    ch: '冬青黑体简',\n    en: 'Hiragino Sans GB'\n  }, {\n    ch: '兰亭黑-简',\n    en: 'Lantinghei SC'\n  }, {\n    ch: '翩翩体-简',\n    en: 'Hanzipen SC'\n  }, {\n    ch: '手札体-简',\n    en: 'Hannotate SC'\n  }, {\n    ch: '宋体-简',\n    en: 'Songti SC'\n  }, {\n    ch: '娃娃体-简',\n    en: 'Wawati SC'\n  }, {\n    ch: '魏碑-简',\n    en: 'Weibei SC'\n  }, {\n    ch: '行楷-简',\n    en: 'Xingkai SC'\n  }, {\n    ch: '雅痞-简',\n    en: 'Yapi SC'\n  }, {\n    ch: '圆体-简',\n    en: 'Yuanti SC'\n  }],\n  'office': [{\n    ch: '幼圆',\n    en: 'YouYuan'\n  }, {\n    ch: '隶书',\n    en: 'LiSu'\n  }, {\n    ch: '华文细黑',\n    en: 'STXihei'\n  }, {\n    ch: '华文楷体',\n    en: 'STKaiti'\n  }, {\n    ch: '华文宋体',\n    en: 'STSong'\n  }, {\n    ch: '华文仿宋',\n    en: 'STFangsong'\n  }, {\n    ch: '华文中宋',\n    en: 'STZhongsong'\n  }, {\n    ch: '华文彩云',\n    en: 'STCaiyun'\n  }, {\n    ch: '华文琥珀',\n    en: 'STHupo'\n  }, {\n    ch: '华文新魏',\n    en: 'STXinwei'\n  }, {\n    ch: '华文隶书',\n    en: 'STLiti'\n  }, {\n    ch: '华文行楷',\n    en: 'STXingkai'\n  }, {\n    ch: '方正舒体',\n    en: 'FZShuTi'\n  }, {\n    ch: '方正姚体',\n    en: 'FZYaoti'\n  }],\n  'open': [{\n    ch: '思源黑体',\n    en: 'Source Han Sans CN'\n  }, {\n    ch: '思源宋体',\n    en: 'Source Han Serif SC'\n  }, {\n    ch: '文泉驿微米黑',\n    en: 'WenQuanYi Micro Hei'\n  }],\n  'hanyi': [{\n    ch: '汉仪旗黑 40S',\n    en: 'HYQihei 40S'\n  }, {\n    ch: '汉仪旗黑 50S',\n    en: 'HYQihei 50S'\n  }, {\n    ch: '汉仪旗黑 60S',\n    en: 'HYQihei 60S'\n  }, {\n    ch: '汉仪大宋简',\n    en: 'HYDaSongJ'\n  }, {\n    ch: '汉仪楷体',\n    en: 'HYKaiti'\n  }, {\n    ch: '汉仪家书简',\n    en: 'HYJiaShuJ'\n  }, {\n    ch: '汉仪PP体简',\n    en: 'HYPPTiJ'\n  }, {\n    ch: '汉仪乐喵体简',\n    en: 'HYLeMiaoTi'\n  }, {\n    ch: '汉仪小麦体',\n    en: 'HYXiaoMaiTiJ'\n  }, {\n    ch: '汉仪程行体',\n    en: 'HYChengXingJ'\n  }, {\n    ch: '汉仪黑荔枝',\n    en: 'HYHeiLiZhiTiJ'\n  }, {\n    ch: '汉仪雅酷黑W',\n    en: 'HYYaKuHeiW'\n  }, {\n    ch: '汉仪大黑简',\n    en: 'HYDaHeiJ'\n  }, {\n    ch: '汉仪尚魏手书W',\n    en: 'HYShangWeiShouShuW'\n  }],\n  'fangzheng': [{\n    \"ch\": \"方正粗雅宋简体\",\n    \"en\": \"FZYaSongS-B-GB\"\n  }, {\n    \"ch\": \"方正报宋简体\",\n    \"en\": \"FZBaoSong-Z04S\"\n  }, {\n    \"ch\": \"方正粗圆简体\",\n    \"en\": \"FZCuYuan-M03S\"\n  }, {\n    \"ch\": \"方正大标宋简体\",\n    \"en\": \"FZDaBiaoSong-B06S\"\n  }, {\n    \"ch\": \"方正大黑简体\",\n    \"en\": \"FZDaHei-B02S\"\n  }, {\n    \"ch\": \"方正仿宋简体\",\n    \"en\": \"FZFangSong-Z02S\"\n  }, {\n    \"ch\": \"方正黑体简体\",\n    \"en\": \"FZHei-B01S\"\n  }, {\n    \"ch\": \"方正琥珀简体\",\n    \"en\": \"FZHuPo-M04S\"\n  }, {\n    \"ch\": \"方正楷体简体\",\n    \"en\": \"FZKai-Z03S\"\n  }, {\n    \"ch\": \"方正隶变简体\",\n    \"en\": \"FZLiBian-S02S\"\n  }, {\n    \"ch\": \"方正隶书简体\",\n    \"en\": \"FZLiShu-S01S\"\n  }, {\n    \"ch\": \"方正美黑简体\",\n    \"en\": \"FZMeiHei-M07S\"\n  }, {\n    \"ch\": \"方正书宋简体\",\n    \"en\": \"FZShuSong-Z01S\"\n  }, {\n    \"ch\": \"方正舒体简体\",\n    \"en\": \"FZShuTi-S05S\"\n  }, {\n    \"ch\": \"方正水柱简体\",\n    \"en\": \"FZShuiZhu-M08S\"\n  }, {\n    \"ch\": \"方正宋黑简体\",\n    \"en\": \"FZSongHei-B07S\"\n  }, {\n    \"ch\": \"方正宋三简体\",\n    \"en\": \"FZSong\"\n  }, {\n    \"ch\": \"方正魏碑简体\",\n    \"en\": \"FZWeiBei-S03S\"\n  }, {\n    \"ch\": \"方正细等线简体\",\n    \"en\": \"FZXiDengXian-Z06S\"\n  }, {\n    \"ch\": \"方正细黑一简体\",\n    \"en\": \"FZXiHei I-Z08S\"\n  }, {\n    \"ch\": \"方正细圆简体\",\n    \"en\": \"FZXiYuan-M01S\"\n  }, {\n    \"ch\": \"方正小标宋简体\",\n    \"en\": \"FZXiaoBiaoSong-B05S\"\n  }, {\n    \"ch\": \"方正行楷简体\",\n    \"en\": \"FZXingKai-S04S\"\n  }, {\n    \"ch\": \"方正姚体简体\",\n    \"en\": \"FZYaoTi-M06S\"\n  }, {\n    \"ch\": \"方正中等线简体\",\n    \"en\": \"FZZhongDengXian-Z07S\"\n  }, {\n    \"ch\": \"方正准圆简体\",\n    \"en\": \"FZZhunYuan-M02S\"\n  }, {\n    \"ch\": \"方正综艺简体\",\n    \"en\": \"FZZongYi-M05S\"\n  }, {\n    \"ch\": \"方正彩云简体\",\n    \"en\": \"FZCaiYun-M09S\"\n  }, {\n    \"ch\": \"方正隶二简体\",\n    \"en\": \"FZLiShu II-S06S\"\n  }, {\n    \"ch\": \"方正康体简体\",\n    \"en\": \"FZKangTi-S07S\"\n  }, {\n    \"ch\": \"方正超粗黑简体\",\n    \"en\": \"FZChaoCuHei-M10S\"\n  }, {\n    \"ch\": \"方正新报宋简体\",\n    \"en\": \"FZNew BaoSong-Z12S\"\n  }, {\n    \"ch\": \"方正新舒体简体\",\n    \"en\": \"FZNew ShuTi-S08S\"\n  }, {\n    \"ch\": \"方正黄草简体\",\n    \"en\": \"FZHuangCao-S09S\"\n  }, {\n    \"ch\": \"方正少儿简体\",\n    \"en\": \"FZShaoEr-M11S\"\n  }, {\n    \"ch\": \"方正稚艺简体\",\n    \"en\": \"FZZhiYi-M12S\"\n  }, {\n    \"ch\": \"方正细珊瑚简体\",\n    \"en\": \"FZXiShanHu-M13S\"\n  }, {\n    \"ch\": \"方正粗宋简体\",\n    \"en\": \"FZCuSong-B09S\"\n  }, {\n    \"ch\": \"方正平和简体\",\n    \"en\": \"FZPingHe-S11S\"\n  }, {\n    \"ch\": \"方正华隶简体\",\n    \"en\": \"FZHuaLi-M14S\"\n  }, {\n    \"ch\": \"方正瘦金书简体\",\n    \"en\": \"FZShouJinShu-S10S\"\n  }, {\n    \"ch\": \"方正细倩简体\",\n    \"en\": \"FZXiQian-M15S\"\n  }, {\n    \"ch\": \"方正中倩简体\",\n    \"en\": \"FZZhongQian-M16S\"\n  }, {\n    \"ch\": \"方正粗倩简体\",\n    \"en\": \"FZCuQian-M17S\"\n  }, {\n    \"ch\": \"方正胖娃简体\",\n    \"en\": \"FZPangWa-M18S\"\n  }, {\n    \"ch\": \"方正宋一简体\",\n    \"en\": \"FZSongYi-Z13S\"\n  }, {\n    \"ch\": \"方正剪纸简体\",\n    \"en\": \"FZJianZhi-M23S\"\n  }, {\n    \"ch\": \"方正流行体简体\",\n    \"en\": \"FZLiuXingTi-M26S\"\n  }, {\n    \"ch\": \"方正祥隶简体\",\n    \"en\": \"FZXiangLi-S17S\"\n  }, {\n    \"ch\": \"方正粗活意简体\",\n    \"en\": \"FZCuHuoYi-M25S\"\n  }, {\n    \"ch\": \"方正胖头鱼简体\",\n    \"en\": \"FZPangTouYu-M24S\"\n  }, /*{\"ch\":\"方正铁筋隶书简体\",\"en\":\"FZTieJinLiShu-Z14S\"},{\"ch\":\"方正北魏楷书简体\",\"en\":\"FZBeiWeiKaiShu-Z15S\"},*/ {\n    \"ch\": \"方正卡通简体\",\n    \"en\": \"FZKaTong-M19S\"\n  }, {\n    \"ch\": \"方正艺黑简体\",\n    \"en\": \"FZYiHei-M20S\"\n  }, {\n    \"ch\": \"方正水黑简体\",\n    \"en\": \"FZShuiHei-M21S\"\n  }, {\n    \"ch\": \"方正古隶简体\",\n    \"en\": \"FZGuLi-S12S\"\n  }, {\n    \"ch\": \"方正幼线简体\",\n    \"en\": \"FZYouXian-Z09S\"\n  }, {\n    \"ch\": \"方正启体简体\",\n    \"en\": \"FZQiTi-S14S\"\n  }, {\n    \"ch\": \"方正小篆体\",\n    \"en\": \"FZXiaoZhuanTi-S13T\"\n  }, {\n    \"ch\": \"方正硬笔楷书简体\",\n    \"en\": \"FZYingBiKaiShu-S15S\"\n  }, {\n    \"ch\": \"方正毡笔黑简体\",\n    \"en\": \"FZZhanBiHei-M22S\"\n  }, {\n    \"ch\": \"方正硬笔行书简体\",\n    \"en\": \"FZYingBiXingShu-S16S\"\n  }]\n};\n\n//用法:\n//1.因為js並不能獲取系統中所有字體,因為沒有權限.只有IE可以\n//2.因此創建一個字體列表根據像素差逐一匹配也算是一個解決辦法了\nlet fontFamilyList = [];\nfor(var i in yxmDataFont){\n  yxmDataFont[i].forEach((data) =>{\n\tif(yxmDetector(data.en)){\n\t  fontFamilyList.push(data);\n\t}\n  });\n}\n \n\n// 去重复\nconst enlist = fontFamilyList.map(item => item.en);\nconst fonts = fontFamilyList.filter((item, index) => index === enlist.indexOf(item.en));\n\n//此電腦字體列表\nexport default fonts;\n","import React from \"react\";\n\nfunction Items(props) {\n  const { value, dispatch } = props;\n  function handleAddContent(e) {\n    if (e.key === \"Enter\") {\n      dispatch({ type: \"addContent\", value: e.target.value });\n      e.target.value = \"\";\n    }\n  }\n\n  const contents = value.map((item, index) => (\n    <div key={index}>\n      <input\n        type=\"text\"\n        value={item}\n        onChange={e =>\n          dispatch({\n            type: \"changeContent\",\n            value: e.target.value,\n            index: e.target.name\n          })\n        }\n        name={index}\n      />\n      <input\n        type=\"button\"\n        value=\"删除\"\n        onClick={e => dispatch({ type: \"deleteContent\", index: e.target.name })}\n        name={index}\n      />\n      <br />\n    </div>\n  ));\n\n  return (\n    <div>\n      <input type=\"text\" placeholder=\"添加内容\" onKeyDown={handleAddContent} />\n      <div>{contents}</div>\n    </div>\n  );\n}\n\nexport default Items;\n","import React from \"react\";\nimport fonts from \"../../lib/fonts\";\nimport Items from \"../Items/index\";\nimport { Button } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nexport default function(props) {\n  const { windowSize, editMode, canvasState, dispatch, loading } = props;\n  const panelStyle = {\n    position: \"absolute\",\n    width: windowSize.width / 4,\n    height: windowSize.height,\n    background: \"#f0f0f0\"\n  };\n\n  const buttonStyle = {\n    position: \"absolute\",\n    left: 10,\n    top: 10\n  };\n\n  function handleImageChange() {\n    const file = document.getElementById(\"imageInput\").files[0];\n    const reader = new FileReader();\n    reader.onload = function(e) {\n      const imageURL = e.target.result;\n      dispatch({ type: \"changeImage\", imageURL });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  const panel = (\n    <div style={panelStyle}>\n      <h1>DIY</h1>\n      <div>\n        标题：\n        <input\n          type=\"text\"\n          value={canvasState.title}\n          onChange={e =>\n            dispatch({ type: \"change\", key: \"title\", value: e.target.value })\n          }\n        />\n        <br />\n        内容:\n        <Items value={canvasState.contents} dispatch={dispatch} />\n        <br />\n        标题字体颜色：\n        <input\n          type=\"color\"\n          value={canvasState.textColor}\n          onChange={e =>\n            dispatch({\n              type: \"change\",\n              key: \"textColor\",\n              value: e.target.value\n            })\n          }\n        />\n        <br />\n        内容字体颜色：\n        <input\n          type=\"color\"\n          value={canvasState.contentTextColor}\n          onChange={e =>\n            dispatch({\n              type: \"change\",\n              key: \"contentTextColor\",\n              value: e.target.value\n            })\n          }\n        />\n        <br />\n        <input\n          type=\"file\"\n          onChange={handleImageChange}\n          accept=\"image/*\"\n          id=\"imageInput\"\n        />\n        <br />\n        位置：\n        <label>\n          <input\n            type=\"radio\"\n            value=\"left\"\n            name=\"layout\"\n            onChange={e =>\n              dispatch({ type: \"change\", key: \"layout\", value: e.target.value })\n            }\n          />\n          左边\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"middle\"\n            name=\"layout\"\n            onChange={e =>\n              dispatch({ type: \"change\", key: \"layout\", value: e.target.value })\n            }\n          />\n          中间\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            value=\"right\"\n            name=\"layout\"\n            onChange={e =>\n              dispatch({ type: \"change\", key: \"layout\", value: e.target.value })\n            }\n          />\n          右边\n        </label>\n        <br />\n        主标题字体\n        <select\n          value={canvasState.fontFamily}\n          onChange={e =>\n            dispatch({\n              type: \"change\",\n              key: \"fontFamily\",\n              value: e.target.value\n            })\n          }\n        >\n          {fonts.map((item, index) => (\n            <option key={index} value={item.en}>\n              {item.ch}\n            </option>\n          ))}\n        </select>\n        <br />\n        内容字体\n        <select\n          value={canvasState.contentFontFamily}\n          onChange={e =>\n            dispatch({\n              type: \"change\",\n              key: \"contentFontFamily\",\n              value: e.target.value\n            })\n          }\n        >\n          {fonts.map((item, index) => (\n            <option key={index} value={item.en}>\n              {item.ch}\n            </option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n\n  const button = (\n    <div style={buttonStyle}>\n      <Button\n        shape=\"circle\"\n        icon=\"edit\"\n        ghost\n        onClick={() => {\n          editMode.setTrue();\n        }}\n      />\n    </div>\n  );\n\n  return <div>{!loading.value && <div>{editMode.value ? panel : button}</div>}</div>;\n}\n","import React, { useEffect } from \"react\";\nimport { Spin } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nexport default function(props) {\n  const { canvasState, windowSize, editMode, poster, loading } = props;\n  const style = {\n    position: \"absolute\",\n    left: window.innerWidth / 2 - 20,\n    top: window.innerHeight / 2 - 20\n  };\n\n  // 设置生命周期监听函数\n  poster\n    .on(\"canvasWillDraw\", console.log)\n    .on(\"canvasDidDraw\", () => loading.setFalse())\n    .on(\"canvasWillLoadFont\", console.log)\n    .on(\"canvasDidLoadFont\", console.log)\n    .on(\"canvasWillLoadImage\", console.log)\n    .on(\"canvasDidLoadImage\", console.log);\n\n  // 设置内容\n  poster\n    .imageURL(canvasState.imageURL)\n    .title(canvasState.title)\n    .contents(canvasState.contents);\n\n  // 设置样式\n  poster\n    .fontSize(canvasState.fontSize)\n    .contentFontSize(canvasState.contentFontSize)\n    .fontFamily(canvasState.fontFamily)\n    .contentFontFamily(canvasState.contentFontFamily)\n    .textColor(canvasState.textColor)\n    .contentTextColor(canvasState.contentTextColor);\n\n  // 设置布局\n  poster\n    .width(windowSize.width)\n    .height(windowSize.height)\n    .layout(canvasState.layout);\n\n  useEffect(() => {\n    const canvas = document.getElementById(\"app\");\n    poster.canvas(canvas);\n    poster.draw();\n  });\n\n  return (\n    <div onClick={editMode.setFalse}>\n      {loading.value && <Spin size=\"large\" tip=\"加载图片中...\" style={style} />}\n      <canvas id=\"app\"></canvas>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport \"antd/dist/antd.css\";\nexport default function(props) {\n  const { handleNext, handlePre, poster, loading } = props;\n  const leftButtonStyle = {\n      position: \"absolute\",\n      right: 110,\n      bottom: 10\n    },\n    rightButtonStyle = {\n      position: \"absolute\",\n      bottom: 10,\n      right: 10\n    },\n    middileButtonStyle = {\n      position: \"absolute\",\n      bottom: 10,\n      right: 60\n    };\n\n  function handleDowloadImage(e) {\n    const filename = poster.title();\n    poster.canvasToPng(`${filename}.png`);\n  }\n\n  return (\n    <div>\n      {!loading.value && (\n        <div>\n          <Button\n            shape=\"circle\"\n            icon=\"left\"\n            ghost\n            style={leftButtonStyle}\n            onClick={() => {\n              loading.setTrue()\n              handlePre();\n            }}\n          />\n          <Button\n            shape=\"circle\"\n            icon=\"right\"\n            ghost\n            style={middileButtonStyle}\n            onClick={() => {\n              loading.setTrue()\n              handleNext();\n            }}\n          />\n          <Button\n            shape=\"circle\"\n            icon=\"download\"\n            ghost\n            style={rightButtonStyle}\n            onClick={() => {\n              loading.setTrue();\n              handleDowloadImage();\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import {\n    useState,\n    useEffect\n} from 'react';\n\nfunction useWindowSize() {\n    const [width, setWidth] = useState(window.innerWidth);\n    const [height, setHeight] = useState(window.innerHeight);\n\n    useEffect(() => {\n        window.addEventListener('resize', () => {\n            setWidth(window.innerWidth);\n            setHeight(window.innerHeight);\n        })\n        return () => {\n            window.removeEventListener('resize', this);\n        }\n    })\n\n    return [width, height];\n}\n\nexport default useWindowSize","import { useState } from \"react\";\n\nexport default function(initialValue){\n    const [value, setValue] = useState(initialValue);\n    const setTrue = () => setValue(true);\n    const setFalse = () => setValue(false);\n    return {\n        value,\n        setTrue,\n        setFalse\n    }\n}","import { useReducer } from \"react\";\nexport default function(initialState) {\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case \"update\":\n        return action.canvas;\n      case \"change\":\n        return { ...state, [action.key]: action.value };\n      case \"changeImage\":\n        return { ...state, imageURL: action.imageURL };\n      case \"addContent\": {\n        const contents = state.contents,\n          content = action.value;\n        contents.push(content);\n        return { ...state, contents };\n      }\n      case \"deleteContent\": {\n        const contents = state.contents,\n          index = action.index;\n        contents.splice(index, 1);\n        return { ...state, contents };\n      }\n      case \"changeContent\": {\n        const contents = state.contents,\n          { index, value } = action;\n        contents[index] = value;\n        return { ...state, contents };\n      }\n    }\n  };\n  return useReducer(reducer, initialState);\n}\n","import {useReducer} from \"react\";\n\n// [left,right)\nexport default function(initalValue, left, right) {\n  const initialState = { count: initalValue };\n  const reducer = function(state, action) {\n    switch (action.type) {\n      case \"increment\":\n        return { count: state.count + 1 };\n      case \"decrement\":\n        return { count: state.count - 1 };\n        \n    }\n  };\n  return useReducer(reducer, initialState);\n}\n","import home from \"./home\"\nimport lordRing from \"./lordRing\"\nimport poeam from \"./poeam\"\nimport view from \"./view\"\nimport words from \"./words\"\n\nexport default [\n    home,\n    poeam,\n    lordRing,\n    view,\n    words\n]\n","export default {\n  title: \"WordsPaper\",\n  contents: [\n    \"It is a web tool to create awesome pictures like this.\",\n    \"You can use them as wallpaper or event a gift.\",\n    \"You can DIY by click the top-left button or see more examples.\"\n  ],\n  imageURL: \"https://i.loli.net/2019/11/11/qLXbkMHA8FmEg4B.jpg\",\n  layout: \"middle\",\n  fontFamily: \"Wawati SC \",\n  textColor: \"#ffffff\",\n  fontSize: 150,\n  contentFontSize: 40,\n  contentFontFamily: \"Hanzipen SC\",\n  contentTextColor: \"#ffffff\"\n};\n","export default {\n  title: \"三行情诗\",\n  contents: [\"我很想明白\", \"当我的名字滑过你的耳边\", \"你的脑袋里会闪现些什么\"],\n  imageURL: \"https://i.loli.net/2019/11/11/ve2RnJTb7P9G6NS.jpg\",\n  layout: \"right\",\n  fontFamily: \"Wawati SC\",\n  textColor: \"#ffffff\",\n  fontSize: 150,\n  contentFontSize: 40,\n  contentFontFamily: \"Hanzipen SC\",\n  contentTextColor: \"#ffffff\"\n};\n","export default {\n  title: \"电影和台词\",\n  contents: [\n    \"That there's some good in this world, Mr. Frodo.\",\n    \"And it's worth fighting for.\"\n  ],\n  imageURL: \"https://i.loli.net/2019/11/11/tICFG8nLT6pf5b3.jpg\",\n  layout: \"left\",\n  fontFamily: \"Wawati SC\",\n  textColor: \"#ffffff\",\n  fontSize: 150,\n  contentFontSize: 40,\n  contentFontFamily: \"Hanzipen SC\",\n  contentTextColor: \"#ffffff\"\n};\n","export default {\n  title: \"美丽风景\",\n  contents: [\"我忘记这里是哪个地方了,\", \"这张图是来自 Bing 壁纸。\"],\n  imageURL: \"https://i.loli.net/2019/11/11/YRX1NdLaGgcqTKJ.jpg\",\n  layout: \"middle\",\n  fontFamily: \"Wawati SC\",\n  textColor: \"#ffffff\",\n  fontSize: 150,\n  contentFontSize: 40,\n  contentFontFamily: \"Hanzipen SC\",\n  contentTextColor: \"#ffffff\"\n};\n","export default {\n  title: \"名人名言\",\n  contents: [\"伟大的光辉不在于永不坠落\", \"而在于坠落之后总会升起\"],\n  imageURL: \"https://i.loli.net/2019/11/11/7CcoInTaF2VfEq8.jpg\",\n  layout: \"right\",\n  fontFamily: \"Wawati SC\",\n  textColor: \"#ffffff\",\n  fontSize: 150,\n  contentFontSize: 40,\n  contentFontFamily: \"Hanzipen SC\",\n  contentTextColor: \"#ffffff\"\n};\n","import React from \"react\";\nimport Sidebar from \"./components/Sidebar/index\";\nimport Canvas from \"./components/Canvas/index\";\nimport Footer from \"./components/Footer/index\";\n\nimport useWindowSize from \"./hooks/useWindowSize\";\nimport useBoolean from \"./hooks/useBoolean\";\nimport useCanvas from \"./hooks/useCanvas\";\nimport useCounter from \"./hooks/useCounter\";\n\nimport { awesome } from \"./lib/awesome-poster\";\nimport data from \"./data/index\";\n\nconst poster = awesome.poster();\n\nfunction App(props) {\n  const loading = useBoolean(true);\n  const [width, height] = useWindowSize();\n  const editMode = useBoolean(false);\n  const [counterState, counterDispatch] = useCounter(0);\n  const initialCanvas = data[counterState.count];\n  const [canvasState, canvasDispatch] = useCanvas(initialCanvas);\n\n  function handleNext() {\n    if (counterState.count + 1 >= data.length) return;\n    const nextCanvas = data[counterState.count + 1];\n    counterDispatch({ type: \"increment\" });\n    canvasDispatch({ type: \"update\", canvas: nextCanvas });\n  }\n\n  function handlePre() {\n    if (counterState.count - 1 < 0) return;\n    const preCanvas = data[counterState.count - 1];\n    counterDispatch({ type: \"decrement\" });\n    canvasDispatch({ type: \"update\", canvas: preCanvas });\n  }\n\n  return (\n    <div>\n      <Sidebar\n        editMode={editMode}\n        windowSize={{ width, height }}\n        canvasState={canvasState}\n        dispatch={canvasDispatch}\n        canvasToPng={poster.saveToPng}\n        poster={poster}\n        loading={loading}\n      />\n      <Canvas\n        canvasState={canvasState}\n        windowSize={{ width, height }}\n        editMode={editMode}\n        poster={poster}\n        loading={loading}\n      />\n      <Footer\n        handleNext={handleNext}\n        handlePre={handlePre}\n        poster={poster}\n        loading={loading}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport style from './index.css'\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n","this[\"awesome\"] =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: poster */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"poster\\\", function() { return poster; });\\nfunction poster() {\\n  let width = 3000,\\n    height = 150,\\n    fontFamily = \\\"Arial\\\",\\n    fontSize = 100,\\n    canvas = null,\\n    title = \\\"Awesome Poster\\\",\\n    contents = [\\n      \\\"It is a Javascript library that you can create poster with awesome pictures and words\\\"\\n    ],\\n    imageURL = \\\"\\\",\\n    preImageURL = null,\\n    preFontURL = null,\\n    font = null,\\n    fontURL = null,\\n    img = new Image(),\\n    textColor = \\\"white\\\",\\n    listeners = {},\\n    brush = {},\\n    preWidth = 0,\\n    preHeight = 0,\\n    ctx = null,\\n    layout = \\\"middle\\\",\\n    contentFontSize = 40,\\n    contentFontFamily = \\\"Arial\\\",\\n    contentTextColor = \\\"#f0f0f0\\\",\\n    offset = 0.2;\\n\\n  const maxWidthRate = 0.6,\\n    maxTitleHeightRate = 0.2,\\n    maxContentTextWidthRate = 0.8,\\n    maxFontSize = 150,\\n    maxContentTextSize = 40;\\n\\n  brush.height = function(_) {\\n    return arguments.length ? ((height = _), brush) : height;\\n  };\\n\\n  brush.width = function(_) {\\n    return arguments.length ? ((width = _), brush) : width;\\n  };\\n\\n  brush.fontFamily = function(_) {\\n    return arguments.length ? ((fontFamily = _), brush) : fontFamily;\\n  };\\n\\n  brush.fontSize = function(_) {\\n    return arguments.length ? ((fontSize = _), brush) : fontSize;\\n  };\\n\\n  brush.fontURL = function(_) {\\n    return arguments.length ? ((fontURL = _), brush) : fontURL;\\n  };\\n\\n  brush.canvas = function(_) {\\n    return arguments.length > 0 ? ((canvas = _), brush) : canvas;\\n  };\\n\\n  brush.textColor = function(_) {\\n    return arguments.length > 0 ? ((textColor = _), brush) : textColor;\\n  };\\n\\n  brush.title = function(_) {\\n    return arguments.length ? ((title = _), brush) : title;\\n  };\\n\\n  brush.imageURL = function(_) {\\n    return arguments.length ? ((imageURL = _), brush) : imageURL;\\n  };\\n\\n  brush.contents = function(_) {\\n    return arguments.length ? ((contents = _), brush) : contents;\\n  };\\n\\n  brush.layout = function(_) {\\n    return arguments.length ? ((layout = _), brush) : layout;\\n  };\\n\\n  brush.contentFontSize = function(_) {\\n    return arguments.length ? ((contentFontSize = _), brush) : contentFontSize;\\n  };\\n\\n  brush.contentFontFamily = function(_) {\\n    return arguments.length\\n      ? ((contentFontFamily = _), brush)\\n      : contentFontFamily;\\n  };\\n\\n  brush.contentTextColor = function(_) {\\n    return arguments.length\\n      ? ((contentTextColor = _), brush)\\n      : contentTextColor;\\n  };\\n\\n  brush.on = function(event, callback) {\\n    listeners[event] = callback;\\n    return brush;\\n  };\\n\\n  brush.canvasToPng = function(filename) {\\n    canvas.toBlob(function(blob) {\\n      const url = URL.createObjectURL(blob);\\n      const a = document.createElement(\\\"a\\\");\\n      a.href = url;\\n      a.download = filename;\\n      a.click();\\n    });\\n  };\\n\\n  brush.draw = async function() {\\n    dispatch(\\\"canvasWillDraw\\\", \\\"开始绘制\\\");\\n    if (preWidth != width || preHeight != height) {\\n      [preWidth, preHeight] = [width, height];\\n      setupCanvas();\\n    }\\n    if (fontURL && preFontURL != fontURL) {\\n      dispatch(\\\"canvasWillLoadFont\\\", \\\"开始加载字体\\\");\\n      preFontURL = fontURL;\\n      await loadFont();\\n      dispatch(\\\"canvasDidLoadFont\\\", \\\"加载字体结束\\\");\\n    }\\n\\n    if (preImageURL != imageURL) {\\n      dispatch(\\\"canvasWillLoadImage\\\", \\\"开始加载图片\\\");\\n      preImageURL = imageURL;\\n      await loadImage();\\n      dispatch(\\\"canvasDidLoadImage\\\", \\\"加载图片结束\\\");\\n    }\\n\\n    draw();\\n    dispatch(\\\"canvasDidDraw\\\", \\\"绘制完成\\\");\\n  };\\n\\n  function dispatch(event, ...rest) {\\n    if (listeners[event]) {\\n      listeners[event](...rest);\\n    }\\n  }\\n\\n  function setupCanvas() {\\n    // 设置 canvas\\n    canvas.width = width * 2;\\n    canvas.height = height * 2;\\n\\n    // 这里必须要加 px\\n    canvas.style.width = width + \\\"px\\\";\\n    canvas.style.height = height + \\\"px\\\";\\n\\n    // 获得上下文对象\\n    ctx = canvas.getContext(\\\"2d\\\");\\n    ctx.scale(2, 2);\\n  }\\n\\n  function loadFont() {\\n    const name = \\\"myFont\\\";\\n    font = new FontFace(name, `url(${fontURL})`);\\n    return font.load().then(font => {\\n      document.fonts.add(font);\\n      fontFamily = name;\\n    });\\n  }\\n\\n  function loadImage() {\\n    img.crossOrigin = \\\"Anonymous\\\";\\n    return new Promise((resolve, reject) => {\\n      img.src = imageURL;\\n      img.onload = () => {\\n        resolve();\\n      };\\n    });\\n  }\\n\\n  function setTitleTextWidth() {\\n    let textWidth, textHeight, textBox;\\n    fontSize = Math.min(maxFontSize, fontSize);\\n    do {\\n      ctx.font = `bold ${fontSize}px ${fontFamily}`;\\n      textBox = ctx.measureText(title);\\n      textWidth = textBox.width;\\n      textHeight =\\n        textBox.actualBoundingBoxAscent + textBox.actualBoundingBoxDescent;\\n      fontSize -= 1;\\n    } while (\\n      textWidth > maxWidthRate * width ||\\n      textHeight > maxTitleHeightRate * height\\n    );\\n    return textHeight;\\n  }\\n\\n  function setContentTextWidth() {\\n    let contentTextWidth, textHeight, textBox;\\n    contentFontSize = Math.min(maxContentTextSize, contentFontSize);\\n\\n    // 找到最长的句子\\n    let content = \\\"\\\",\\n      maxLength = -1,\\n      len;\\n    contents.forEach(item => {\\n      if ((len = item.length > maxLength)) {\\n        content = item;\\n        maxLength = len;\\n      }\\n    });\\n\\n    do {\\n      ctx.font = `${contentFontSize}px ${contentFontFamily}`;\\n      textBox = ctx.measureText(content);\\n      contentTextWidth = textBox.width;\\n      textHeight =\\n        textBox.actualBoundingBoxAscent + textBox.actualBoundingBoxDescent;\\n      contentFontSize -= 1;\\n    } while (contentTextWidth > maxContentTextWidthRate * width);\\n    return textHeight;\\n  }\\n\\n  function getImageSize() {\\n    const imgRatio = img.width / img.height;\\n    const windowRatio = width / height;\\n    let imageWidth, imageHeight;\\n    if (imgRatio > windowRatio) {\\n      imageHeight = img.height;\\n      imageWidth = imageHeight * windowRatio;\\n    } else {\\n      imageWidth = img.width;\\n      imageHeight = imageWidth / windowRatio;\\n    }\\n\\n    const imageX = img.width / 2 - imageWidth / 2,\\n      imageY = img.height / 2 - imageHeight / 2;\\n    return [imageX, imageY, imageWidth, imageHeight];\\n  }\\n\\n  function getTextPostion() {\\n    let x,\\n      textAlign,\\n      y = height / 2;\\n\\n    switch (layout) {\\n      case \\\"middle\\\": {\\n        x = width / 2;\\n        textAlign = \\\"center\\\";\\n        break;\\n      }\\n      case \\\"right\\\": {\\n        x = width - width / 12;\\n        textAlign = \\\"end\\\";\\n        break;\\n      }\\n      case \\\"left\\\": {\\n        x = width / 12;\\n        textAlign = \\\"start\\\";\\n        break;\\n      }\\n      default: {\\n        x = width / 2;\\n        textAlign = \\\"center\\\";\\n      }\\n    }\\n    ctx.textAlign = textAlign;\\n    return [x, y];\\n  }\\n\\n  function draw() {\\n    const [sx, sy, swidth, sheight] = getImageSize();\\n    // 绘制图片\\n    ctx.drawImage(img, sx, sy, swidth, sheight, 0, 0, width, height);\\n\\n    // 设置字体样式\\n    ctx.textBaseline = \\\"middle\\\";\\n    ctx.shadowColor = \\\"black\\\";\\n    ctx.shadowOffsetX = 1;\\n    ctx.shadowOffsetY = 1;\\n    ctx.shadowBlur = 3;\\n\\n    const [x, y] = getTextPostion();\\n\\n    // 绘制标题\\n    const titleHeight = setTitleTextWidth();\\n    ctx.fillStyle = textColor;\\n    ctx.font = `bold ${fontSize}px ${fontFamily}`;\\n    ctx.fillText(title, x, y);\\n\\n    // 绘制内容\\n    const contentHeight = setContentTextWidth();\\n\\n    if(height > width){\\n      offset = 0.1;\\n    }else{\\n      offset = 0.2;\\n    }\\n    const contentOffset = height * offset;\\n\\n    ctx.fillStyle = contentTextColor;\\n    ctx.font = `${contentFontSize}px ${contentFontFamily}`;\\n    contents.forEach((sentence, index) => {\\n      ctx.fillText(sentence, x, y + contentOffset + contentHeight * index * 1.5);\\n    });\\n  }\\n  return brush;\\n}\\n\\n\\n//# sourceURL=webpack://awesome/./src/index.js?\");\n\n/***/ })\n\n/******/ });"],"sourceRoot":""}